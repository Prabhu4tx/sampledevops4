terraform {
    required_providers {
       azurerm = {
           source = "hashicorp/azurerm"
           version = "~> 3.15"
       } 
    }
}

provider "azurerm" {
    features {}
    }

resource "azurerm_resource_group" "rg" {
  name = "cosmosdblearn-rg"
  location = "East US"
}

resource "azurerm_cosmosdb_account" "db" {
    name = "tutorialcosmosdbtest1"
    location = azurerm_resource_group.rg.location
    resource_group_name = azurerm_resource_group.rg.name
    offer_type = "Standard"
    kind = "GlobalDocumentDB"

  consistency_policy {
        consistency_level = "Session"
    }   

    geo_location {
        location = azurerm_resource_group.rg.location
        failover_priority = 0
    }
}
